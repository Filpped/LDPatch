python-urllib3
rubygem-minitest4
python-jupyterlab-server
erlang-getopt
cloc
rubygem-mime-types
qt6-qtdeclarative
R-pkgconfig
rubygem-rspec-its
R-AsioHeaders
R-brio
userspace-rcu
python-hatch-nodejs-version
qt6-qtquick3dphysics
python-vega-datasets
python-nbsphinx
rubygem-websocket-driver
qt6-qtwebsockets
qt5-qtmultimedia
python-dasbus
qt6-qtquickeffectmaker
rubygem-pg
R-inline
qt5-qtquickcontrols
rubygem-kramdown-parser-gfm
nodejs-lolex
qt5-qtscript
rubygem-rspec-core
R-diffobj
rubygem-connection_pool
rubygem-rspec-support
rubygem-haml
rubygem-uglifier
rubygem-xpath
python-tomlkit
R-xtable
rubygem-aruba
rubygem-rspec2
python-mkdocs-literate-nav
rubygem-introspection
erlang-lfe
rubygem-sys-uname
qt5-qtx11extras
java-21-openjdk
rubygem-metaclass
rubygem-http-cookie
libsexy
python-hatch-requirements-txt
perl-Encode-Locale
rubygem-byebug
R-Cairo
python-jupyter_server_mathjax
python-nbformat
rubygem-actioncable
rubygem-cucumber
open-sans-fonts
rubygem-ruby-rc4
nodejs-pinkie-promise
rubygem-ansi
python-sphinxcontrib-devhelp
R-desc
python-jsonpointer
R-lifecycle
rubygem-rails
nodejs-nomnom
rubygem-ethon
nodejs-hash_file
python-altair
qt6-qtremoteobjects
python-sphinx-notfound-page
qt5-qtdoc
python-ipykernel
python-kdcproxy
python-tox-current-env
qt6-qtshadertools
google-noto-emoji-fonts
perl-Digest-MD5
perl-HTML-Tagset
rubygem-websocket-extensions
rubygem-rspec2-expectations
R-zoo
rubygem-hiredis
intel-cmt-cat
rubygem-shoulda-context
rubygem-ffi
R-memoise
python-pytype
rubygem-mimemagic
python-cattrs
rubygem-thin
qt5-qtcharts
python-littleutils
rubygem-formatador
rubygem-flexmock
efi-rpm-macros
perl-Thread-Queue
rubygem-sinatra
attest-tools
nodejs-array-uniq
rubygem-turbolinks
python-sphinxcontrib-serializinghtml
nodejs-caller-path
umdk-urma
python-cson
rubygem-json_pure
rubygem-memcache-client
python-tempita
python-py
rubygem-crack
R-glue
qt6-qthttpserver
python-watchfiles
qt5-qtconnectivity
rubygem-sqlite3
rubygem-shoulda
rubygem-puma
python-asn1crypto
R-tibble
python-mkdocs
libXt
python-precis_i18n
rubygem-multi_json
R-digest
rubygem-pdf-inspector
rubygem-jquery-rails
python-hatch-fancy-pypi-readme
rubygem-mustermann
tomcat
python-pyproject-metadata
python-nest_asyncio
apache-commons-digester
rubygem-httpclient
nodejs-istanbul
nodejs-acorn
rubygem-ruby-progressbar
qt6-qtmultimedia
rubygem-actionmailer
rubygem-sass
rubygem-redcarpet
qt5-qtlocation
kunpengsecl
R-stringr
qt5-qtwebkit
python-sphinxext-altair
kacst-fonts
perl-TermReadKey
nodejs-is-my-json-valid
python-pytest-tornasync
python-vl-convert-python
erlang-erlsyslog
rubygem-thor
perl-threads
python-typing-inspect
R-praise
nodejs-bl
apache-commons-beanutils
python-pydbus
R-tinytex
cjkuni-uming-fonts
rubygem-idn
rubygem-shoulda-matchers
rubygem-coffee-script
perl-Time-Local
rubygem-jbuilder
python-docstring-parser
nodejs-caseless
rubygem-rails-controller-testing
rubygem-concurrent-ruby
java-11-openjdk
R-testit
llvm
nodejs-caller-callsite
R-curl
java-17-openjdk
nodejs-resolve-from
rubygem-mime-types-data
R-magrittr
perl-Digest-SHA
rubygem-backports
rubygem-RedCloth
rubygem-faraday
python-sphinxcontrib-jsmath
python-sphinx-theme-alabaster
rubygem-fakefs
python-jupyterlab_pygments
python-sphinxcontrib-applehelp
libgtop2
rubygem-hashdiff
perl-Params-Check
rubygem-diff-lcs
perl-Module-Load-Conditional
rubygem-websocket
qt5-qtimageformats
R-orcutt
rubygem-pry
R-bitops
R-lmtest
python-nox-poetry
apache-commons-ognl
R-rlang
python-pyyaml_env_tag
u2f-hidraw-policy
nodejs-duplexer
rubygem-pdf-core
rubygem-slop
erlang-gettext
ant-antunit
dim
R-cpp11
nodejs-grunt-known-options
python-pip
perl-Devel-PPPort
python-cryptography-vectors
ncurses
rubygem-msgpack
arm-trusted-firmware
python-jsx-lexer
rubygem-actionview
rubygem-rake-compiler
R-sourcetools
rubygem-liquid
python-pip-run
python-maturin
security-tool
qt6-qtquick3d
nodejs-from
rubygem-ttfunk
python-sphinxext-rediraffe
erlang-rebar
R-maps
rubygem-public_suffix
qt6-qtcharts
perl-Term-Cap
rubygem-capybara
rubygem-activemodel
perl-Sys-Syslog
python-jsonschema
qt5-qtscxml
rubygem-rspec2-core
ltrace
python-ply
rubygem-tilt
perl-Text-ParseWords
qt6-qtwebchannel
rubygem-simplecov
apache-commons-el
libwd
python-hatch-jupyter-builder
perl-Storable
python-cppy
apache-commons-jexl
rubygem-creole
rubygem-pry-nav
python-cffi
rubygem-rb-inotify
R-R6
rubygem-maruku
python-jupyter-client
R-fansi
R-RUnit
rubygem-contracts
R-pillar
R-xml2
rubygem-yard
R-stringi
R-jpeg
perl-LWP-MediaTypes
R-dichromat
nodejs-entities
oldstandard-sfd-fonts
paktype-naqsh-fonts
apache-commons-collections
qt6-qtquicktimeline
rubygem-test_declarative
R-backports
openEuler-repos
rubygem-listen
storm
python-sphinxcontrib-htmlhelp
python-traittypes
univocity-parsers
python-bracex
qt6-qtnetworkauth
OpenCSD
lua-lpeg
python-csscompressor
python-pytest-jupyter
optimized-routines
nodejs-inflight
sysmonitor-kmod
python-sphinx-togglebutton
python-sphinxcontrib-youtube
libclc
nodejs-util
rubygem-activerecord
nodejs-end-of-stream
openEuler-indexhtml
python-wcmatch
rubygem-mocha
nodejs-har-validator
python-jupyterlab
python-nbconvert
R-base64enc
nodejs-safe-buffer
qt6-qtserialport
python-mkdocs-autorefs
nodejs-util-deprecate
python-mkdocs-minify-plugin
hikptool
python-sphinx-bootstrap-theme
qt5-qtremoteobjects
python-myst-nb
python-appdirs
rubygem-sd_notify
qt6-qtwayland
nodejs-set-immediate-shim
python-requests-cache
R-vctrs
nodejs-through2
qt5-qtspeech
rubygem-docile
python-tinycss2
qt6-qtimageformats
webkit2gtk3
python-anyio
python-rich
rubygem-loofah
R-mime
python-sphinx-inline-tabs
python-mergedeep
rubygem-bootsnap
lld
python-sphinx-favicon
rubygem-activestorage
rubygem-sdoc
rubygem-rack
R-multcomp
perl-Env
qt5-qtserialport
ucs-miscfixed-fonts
mysql
python-sphinx-theme-builder
R-ggplot2movies
qt6-qtsensors
qt5-qt3d
python-black
perl-XML-Parser
rubygem-tzinfo
nodejs-is-typedarray
rubygem-regexp_parser
rubygem-zeitwerk
rubygem-eventmachine
rubygem-simplecov-html
perl-Test-Simple
R-ascii
R-showtextdb
python-pytest-check-links
rubygem-nokogiri
rubygem-excon
python-jsonpatch
python-url-normalize
python-hypothesis-fspaths
rubygem-unf_ext
perl-Perl-OSType
rubygem-mail
rubygem-launchy
ongres-stringprep
python-pip-shims
nodejs-require-directory
rubygem-timecop
qt5-qtwebsockets
rubygem-typhoeus
google-noto-fonts
erlang-hamcrest
perl-Text-Diff
R-car
R-sys
R-plogr
rubygem-ruby-shadow
R-DBI
python-terminado
python-uc-micro-py
perl-HTTP-Negotiate
haoc-kernel
python-virtualenv
perl-List-UtilsBy
glassfish-pfl
python-vistir
R-png
python-htmlmin2
R-prettyunits
qt6-qtconnectivity
rubygem-delorean
python-parver
rubygem-turbolinks-source
rubygem-pdf-reader
rubygem-shindo
ocaml-dune
digest-list-tools
python-sphinx_lv2_theme
python-scikit-optimize
python-pytest-regressions
itrustee_sdk
qt5-qtgamepad
R-whisker
nodejs-jsonpointer
rubygem-cucumber-create-meta
R-pkgload
R-crayon
perl-Locale-Codes
binutils
R-generics
perl-XML-NamespaceSupport
nodejs-test
rubygem-rack-test
cogl
flac
R-showtext
raspberrypi-kernel
java-latest-openjdk
R-labeling
rubygem-ronn-ng
nodejs-path-exists
rubygem-actiontext
R-cli
ffmpeg
qt6-qtgrpc
rubygem-bundler
python-pyaml
rubygem-hoe
rubygem-selenium-webdriver
kernel
rubygem-importmap-rails
perl-Unicode-Normalize
python-ntlm-auth
R-commonmark
python-mitmproxy-wireguard
rubygem-activesupport
rubygem-wikicloth
python-mkdocs-git-committers-plugin-2
qt6-qtlottie
libomp
R-farver
rubygem-bacon
overpass-fonts
python-fastjsonschema
R-filehash
libcxx
erlang-eflame
R-pingr
perl-Unicode-Collate
R-utf8
rubygem-railties
python-requests-file
python-anyascii
rubygem-benchmark-ips
rubygem-rspec-mocks
mlir
rubygem-thread_order
openEuler-rpm-config
python-flit-scm
python-pbkdf2
apache-commons-validator
rubygem-globalid
rubygem-expression_parser
nodejs-arrify
python-linkify-it-py
perl-ExtUtils-Install
rubygem-minitest-reporters
python-httpx
qt5-qtdatavis3d
rubygem-rspec-rails
rubygem-test-unit-rr
rubygem-cucumber-core
python-ruff
rubygem-childprocess
python-sybil
rubygem-bindex
perl-CPAN-Meta-Requirements
rubygem-racc
python-mkdocs-gen-files
python-build
rubygem-afm
R-rprojroot
rubygem-spring
rubygem-erubi
python-mdformat
python-mkdocs-material-extensions
rubygem-sprockets
python-cryptography
perl-Module-Metadata
R-htmltools
python-matplotlib-inline
R-sandwich
kernel-rt
python-pandocfilters
python-hug
rubygem-prawn
python-mkdocs-include-markdown-plugin
R-AUC
python-smartypants
rubygem-builder
python-mkdocs-redirects
nodejs-handlebars
nodejs-generate-function
rubygem-addressable
kae
containernetworking-plugins
python-pytest-datadir
nodejs-hashish
R-markdown
nodejs-os-tmpdir
rubygem-curb
python-yaspin
sil-nuosu-fonts
erlang-protobuffs
python-pycurl
rubygem-daemons
nodejs-samsam
rubygem-Ascii85
R-yaml
rubygem-actionpack
qt6-qt3d
rubygem-rails-dom-testing
R-lmodel2
R-mockery
python-joblib
python-pdm-backend
python-untokenize
python-pytest-black
rubygem-sass-rails
perl-Data-Dumper
clang
perl-Socket
rubygem-power_assert
python-threadpoolctl
R-callr
R-bit64
rubygem-rspec2-mocks
rubygem-prawn-table
rubygem-cucumber-messages
python-xyzservices
rubygem-i18n
nodejs-array-union
python-ruamel-yaml-clib
nodejs-nan
nodejs-clone
perl-Scalar-List-Utils
python-sphinxcontrib-qthelp
perl-Pod-Checker
qt5-qtwebchannel
R-highr
python-sphinxcontrib-log-cabinet
rubygem-marcel
R-tikzDevice
chatglm-cpp
rubygem-rack-protection
rubygem-kramdown
nodejs-is-property
R-cachem
libquvi-scripts
cjkuni-ukai-fonts
R-processx
qt6-qtlanguageserver
qt6-qtsvg
R-ps
nodejs-require-uncached
qt6-qtserialbus
mozjs102
nodejs-process-nextick-args
perl-Algorithm-Diff
mariadb
R-fastmap
libtpms
rubygem-sprockets-rails
perl-Time-HiRes
rubygem-mini_magick
qt6-qttranslations
perl-Unicode-EastAsianWidth
R-askpass
qt5-qtwayland
python-oauth2client
python-livereload
urw-base35-fonts
python-pytoolconfig
nodejs-aws-sign2
python-re-assert
python-nbclient
R-ellipsis
rubygem-rr
R-BH
R-jsonlite
uadk_engine
python-tox-pdm
R-rstudioapi
python-bump2version
R-xfun
R-RCurl
qt5-qtsvg
python-pytest-benchmark
rubygem-domain_name
qt5-qtxmlpatterns
rubygem-rouge
rubygem-nio4r
R-evaluate
perl-Pod-Usage
rubygem-activejob
rubygem-rack-cache
rubygem-crass
R-htmlwidgets
prefetch_tuning
libXfont2
kurdit-unikurd-web-fonts
perl-podlators
python-requests-gssapi
python-remoto
nodejs-xtend
qt6-qtspeech
python-pytest-relaxed
rubygem-cucumber-wire
rubygem-ZenTest
R-withr
python-time-machine
qt6-qtwebview
apache-commons-discovery
R-pkgbuild
perl-List-MoreUtils-XS
rubygem-temple
perl-Mozilla-CA
python-portray
R-mvtnorm
rubygem-actionmailbox
nodejs-tough-cookie
qt6-qtvirtualkeyboard
nodejs-sinon
secDetector
rubygem-method_source
qt6-qtdatavis3d
rubygem-ejs
R-waldo
python-feedgen
perl-Config-IniFiles
rubygem-redis
R-XML
rubygem-thread_safe
R-bit
perl-Business-ISBN-Data
R-prettycode
libbpf
R-sysfonts
qt5-qtdeclarative
R-knitr
python-pytest-enabler
rubygem-bcrypt
qt6-qtlocation
rubygem-activeresource
qt5-qtwebview
nodejs-callsites
python-dbusmock
python-parameterized
python-xgboost
openEuler-release
python-ipywidgets
perl-Term-ANSIColor
perl-IO-HTML
qt5-qtvirtualkeyboard
python-speg
rubygem-sassc-rails
woodstox-core
perl-Text-Unidecode
R-Rcpp
python-nbdime
python-pymdown-extensions
python-pdocs
erlang-erlydtl
python-aexpect
python-sphinx-basic-ng
qt6-qtpositioning
python-sphinx-sitemap
python-mkdocs-coverage
nodejs-generate-object-property
rubygem-hashery
rubygem-regexp_property_values
R-assertthat
R-rematch2
rubygem-activemodel-serializers-xml
python-dmidecode
rubygem-arel
rubygem-unf
nodejs-dreamopt
rubygem-safe_yaml
rubygem-coffee-script-source
python-plette
R-sp
python-hypothesmith
rubygem-coderay
rubygem-fattr
perl-version
libdnf
rubygem-rspec-expectations
nodejs-isstream
python-deprecated
rubygem-mini_mime
python-httmock
rubygem-sassc
perl-Net-Daemon
qt5-qtserialbus
webrtc-audio-processing
rubygem-rails-html-sanitizer
R-RODBC
rubygem-webmock
python-pandas
python-mkdocs-material
rubygem-dalli
nodejs-stringstream
python-httpcore
qt6-qt5compat
llvm-bolt
libmnl
python-libcst
R-testthat
qt5-qtnetworkauth
nodejs-pinkie
raspberrypi-kernel-rt
R-coda
compiler-rt
python-sphinx-copybutton
rubygem-rspec
perl-Pod-Perldoc
rubygem-rubyzip
qt6-qtscxml
passenger
nodejs-object-assign
rubygem-execjs
rubygem-chronic



import os
import json
import subprocess

# 配置
json_file_path = '111111.json'  # JSON文件的路径

# 从JSON文件读取需要下载的软件包
def load_package_list(json_file_path):
    with open(json_file_path, 'r', encoding='utf-8') as f:
        data = json.load(f)
    # 提取'fedora_openeuler_common'中的包名
    return data.get('fedora_openeuler_common', [])

# 下载源包
def download_source_package(package_name):
    try:
        # 使用dnf下载源包
        subprocess.run(['dnf', 'download', '--source', package_name], check=True)
        print(f"成功下载源包: {package_name}")
    except subprocess.CalledProcessError as e:
        print(f"下载源包失败: {package_name}, 错误: {e}")

# 解压源包
def extract_source_package(rpm_file):
    try:
        # 解压rpm包到指定目录
        subprocess.run(['rpm', '-ivh', rpm_file])
        print(f"成功解压源包: {rpm_file}")
    except subprocess.CalledProcessError as e:
        print(f"解压源包失败: {rpm_file}, 错误: {e}")

# 处理所有软件包
def process_packages(package_list):
    total_packages = len(package_list)
    for index, package in enumerate(package_list, 1):
        print(f"正在下载第 {index}/{total_packages} 个软件包: {package}")
        # 下载源包
        download_source_package(package)
        
        # 生成下载的rpm包文件名（假设源包文件名与包名相同）
        rpm_file = f"{package}.src.rpm"
        
        # 检查是否下载了对应的源包
        if os.path.exists(rpm_file):
            # 解压源包
            extract_source_package(rpm_file)
            # 删除下载的rpm包文件，保持环境清洁
            os.remove(rpm_file)
        else:
            print(f"未找到源包文件: {rpm_file}")

if __name__ == "__main__":
    # 读取软件包列表
    package_list = load_package_list(json_file_path)
    
    if package_list:
        # 批量处理所有包
        process_packages(package_list)
    else:
        print("未能加载到软件包列表")
